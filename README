GG_Data_Throughput_Monitor  Instructions

Usage: ./GG_Data_Throughput_Monitor.sh

This script provides a way to monitor the data throughput of a DIPC Agent's GoldenGate component.

In GoldenGate, data throughput measurements are solely based on each extract-replicat stream, so the data volume will the the size of trail files (for example 2G) generated by one or more extracts multiplied by however much is being replicated by the number of (for example 4, each processing all of the trail files) replicats (2G * 4 = 8G total).

Therefore, this script checks the RBA(Relative Byte Address, it is mostly a marker within the trail file to identify the location of the transaction) for all the replicat processes, and compared with the previous RBA record of those processes (this record information was saved previously by running this script). The RBA increase divided by the time difference will be the data throughput amount.

Since DIPC charges user based on the GB/hr data throughput, so we recommend user create a cronjob to run this script every hour to get the estimated data throughput amount information.


Notes:

In beginning part, you need to specify the following variables:
1. The home path of your golgengate:
gghome="/path/to/your/goldengate/folder"
2. The file to keep the replicate record from last time:
gg_pre_info="choose a file name for this record file"
3. The file to keep all the data throughput reports:
gg_report="choose a file name for this report file"
4. Specify the dblogin information for GGSCI command line:
In line 15 and line 52, specify the userid/password or useralias.

The gg_pre_info file:
The gg_pre_info file keeps track of the replicates info of last time script-run. If you are running the script for the first time, this script will create a gg_pre_info file and put in the current replicat info into it. Each time you run the script, it will read in gg_pre_info for the previous info and at the end, the script clear the content of this file and write in the updated timestamp and the lastest replicates info. 
It contains the following information:
Line 1: time stamp of the script-run last time;
Rest lines: replicat_name  the_RBA

The gg_report file:
The gg_report file keeps the record of data throughput. This is the place to find your past data throughput amount information.
It contains the following information:
Each paragraph is a record of the script-run result.
Line 1: Begin_timestamp --- End_timestamp --- Duration
Line 2: Data_Throughput: in mb/min, in mb/hr, in gb/hr, in gb/day
Rest lines: replicat_name the_RBA





